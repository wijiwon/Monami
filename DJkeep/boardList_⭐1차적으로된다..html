<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- axios ë¡œ form íƒœê·¸ ëŒ€ì‹  ì „ì†¡ ë°›ì•„ì˜¤ê¸° â­â­ -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


</head>

<style>


    #post_01 {
        background-color: lightgray;
        width: 300px;
        height: 300px;
    }
/* 
    #page_navigation { 
        width: 600px;
        height: 200px;
        background-color: lightblue;
    } */

    .post_container {
        background-color: lightgreen;
        width: 300px;
        height: 500px;
        display: inline-block;
        margin: 10px;
    }


    .post_image {
        width: 100%;
    }


</style>



<body>

    <h1>ê²Œì‹œíŒ ëª©ë¡</h1>
    <p>ì¤‘ìš”ì •ë³´ ì¹´ë“œ ì‹ìœ¼ë¡œ ìš”ì•½í•´ì„œ ë³´ì—¬ì£¼ë©´ ë¨</p>
    <p>hover ê¸°ëŠ¥ìœ¼ë¡œ ì œëª© ë³´ì—¬ì£¼ëŠ” ê±´ ì‹œê°„ ë˜ë©´</p>

    <div id="page_navigation">

        <!-- <h3>
            <a href="http:127.0.0.1:4000/board/list/:page"> 1page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 2page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 3page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 4page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 5page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 6page </a>
            <a href="http:127.0.0.1:4000/board/list/:page"> 7page </a>
        </h3> -->

    </div>


<div id="posts_wrapper">

        <!-- ì•„ì´í…œ 1 -->
        <div id="post_01">
            
            <div> 
                ì œëª© : <span id="postTitle_container">  </span>
            </div>

            <div> 
                ëŒ“ê¸€ ìˆ˜ : <span id="commentCount_container">   </span>
            </div>

            <div> 
                ê¸€ì“´ì´ : <span id="writer_container">  </span>
            </div>
            
            <div>
                ìœ ì € í”„ë¡œí•„ ì´ë¯¸ì§€ : <span id="writer_profileImg">  </span>
            </div>

            <div> 
                ì‘ì„±ì¼ì : <span id="createDate_container">  </span>
            </div>

            <div>
                ìœ ì € ê²½í—˜ì¹˜ :  <span id="userExp_container"> </span>
            </div>

            <div>
                views : <span id="postViews_container"> </span>
            </div>

            <div>
                likes ìˆ«ì : <span id="likes_number"> </span>
            </div>

            <div>
                ğŸ§¡ likes ë²„íŠ¼ <span id="likes_likesBtn"></span>
            </div>

            <div>
                ì˜¬ë¦° ì‚¬ì§„ : <span id="postImg_container">  </span>
            </div>

        </div>

</div>





    
</body>


<script>
// ğŸ”¹ ì „ì—­ë³€ìˆ˜ 

    // ì‚¬ìš©ìê°€ í´ë¦­í•œ ê²Œì‹œê¸€ì˜ POST ID
    userClickPostID = 0;
        // [ì„¤ëª…] 
            // 'ê²Œì‹œê¸€ ëª©ë¡' ì¤‘, ì‚¬ìš©ìê°€ íŠ¹ì • ê²Œì‹œê¸€ì„ 'í´ë¦­' í•˜ë©´, 
            // í•´ë‹¹ ê²Œì‹œë¬¼ì˜ 'POST ID' ë¥¼ 
            // addeventListner ì˜ event target.id ì‚¬ìš©í•´ì„œ ê°€ì ¸ì˜¤ê³  
            // ì´ê±¸ GET ìš”ì²­ì— ë„£ê¸°? 

    // ê·¸ë ¤ì§€ê¸° ì „ ì¤€ë¹„ëœ ë°°ì—´í†µ | ì´ê±¸ë¡œ ê·¸ë ¤ë‚˜ê°
    arrPostWithCommentUser = [];


// getView í•¨ìˆ˜ 
    async function getView(arrPostWithCommentUser) {

        try {

            // 1. í•„ìš”í•œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° 

                // 1) ë„˜ê¸¸ ë°ì´í„° ì¤€ë¹„ 
                    // ë­˜ ë„˜ê²¨ì•¼ í•˜ì§€? 
                    // í˜ì´ì§€ë„¤ì´ì…˜ í•˜ë ¤ë©´? ìŒğŸ˜¥ğŸ˜¥ğŸ˜¥ 

                    // a) 'ëª‡ ë²ˆì§¸ í˜ì´ì§€ í´ë¦­' í–ˆëŠ”ì§€ (ì‚¬ìš©ì í´ë¦­ê°€ëŠ¥ í•œ ê²ƒ ê´€ì )
                        // [íš¨ê³¼] ì´ê±¸ í´ë¦­í•˜ë©´ -> í•´ë‹¹ í˜ì´ì§€ë„¤ì´ì…˜ì´ ë³´ì—¬ì ¸ì•¼ í•¨
                        // [ìƒê°í•´ë³´ê¸°]
                            // 'ì²« ë©”ì¸ í˜ì´ì§€' ëŠ” ì–´ë–¤ í˜ì´ì§€ê°€ í´ë¦­ë˜ì—ˆëŠ”ì§€, í•„ìš” ì—†ìŒ. 
                            // '2ë²ˆì§¸ í˜ì´ì§€' ë¡œ ê°ˆ ë•Œ, 2ë²ˆì§¸ í˜ì´ì§€ì˜ post, user í…Œì´ë¸” ë‹¤ ê°€ì ¸ì™€ì•¼ í•¨
                            // ê·¸ëŸ¼, ì–´ë–¤ í˜ì´ì§€ë¥¼ í´ë¦­í–ˆëŠ”ì§€ ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ê±°ì•¼? 
                                // eventListener ë‹¬ì•„ì¤˜ì„œ, í´ë¦­ë˜ë©´, get ìš”ì²­ í•´ì„œ -> ê·¸ í˜ì´ì§€ ë³´ì—¬ ë‹¬ë¼â­â­
                            
                            // ì´ í˜ì´ì§€ëŠ” postListPage ë¼ê³  í•  ìˆ˜ ìˆê² ë‹¤

                    // b) 'ì–´ë–¤ ê²Œì‹œê¸€ í´ë¦­' í–ˆëŠ”ì§€ (ì‚¬ìš©ì í´ë¦­ê°€ëŠ¥ í•œ ê²ƒ ê´€ì )
                        // [íš¨ê³¼] ì´ê±¸ í´ë¦­í•˜ë©´ -> í•´ë‹¹ ê²Œì‹œê¸€ì´ ë³´ì—¬ì ¸ì•¼ í•¨
                        // [ìƒê°í•´ë³´ê¸°]
                            // ì–´ë–¤ ê²Œì‹œê¸€ì´ í´ë¦­ë˜ì—ˆë‚˜? 
                            // íŠ¹ì • ìƒì„¸ í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ë ¤ë©´, ë­ê°€ í•„ìš”í•˜ì§€? 
                                // post ì˜ id ê°’ì´ í•„ìš”í•´ â­ 
                            // 'ì‚¬ìš©ìê°€ ê·¸ post id ë¥¼ í´ë¦­í–ˆë‹¤.' ë¼ëŠ” ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì–»ì§€? â­â­â­
                                // ëŒ“ê¸€ì„ ìƒê°í•´ë³´ë©´, â­â­â­â­â­â­â­â­  
                                    // for ë¬¸ìœ¼ë¡œ 'ëŒ“ê¸€ tag ê°€ ìƒì„±' ë  ë•Œ, 'ëŒ“ê¸€ tag id' ì— 'comment ID' ë¥¼ ë¬»í˜€ì…” -> split í•´ì„œ ì¶”ì¶œí•˜ì§€ ì•Šì•˜ë‚˜? 
                            // ê·¸ëŸ¬ë©´, âœ… 'ì‚¬ìš©ìê°€ ì´ post id ë¥¼ í´ë¦­í–ˆë‹¤' (userClickPostID) ë¼ëŠ” ì „ì—­ë³€ìˆ˜, ë¥¼ ê°€ì§€ê³  -> GET ìš”ì²­ì„ í•˜ê²Œ ëœë‹¤. 

                    // C) ê·¸ëŸ¼ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ GET ìš”ì²­
                        // 


                // 2) ë„˜ê¸°ê¸°
                    // a) ì–¸ì œ ìš”ì²­? â­â­
                        // ì´ í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ìš”ì²­ë˜ì–´ì•¼ í•¨ -> so, DOMContentLoaded ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, getView ì‹¤í–‰ 


                    // b-1) ìƒˆë¡­ê²Œ ì‹œë„ | ì—¬ê¸°ì— ì•„ì˜ˆ, í˜ì´ì§€ë„¤ì´ì…˜ ì‹œì‘í•˜ê¸° | ê¸°ë³¸ ë””í´íŠ¸ë¡œ 1 ì‹œì‘í•˜ê¸°

                    const page_num = 1    // ê¸°ë³¸ê°’ì„ ìš°ì„  1ë¡œ í•˜ë ¤ê³  âœ… | ì—¬ê¸°ë¥¼ ë§¤ê°œë³€ìˆ˜í™” âœ… 
                    
                    const {data} = await axios.get(`http://127.0.0.1:4000/board/list/page?num=${page_num}` , {
                        withCredentials : true,
                    })

                    console.log("@boardList > getView() ë“¤ì–´ì˜¤ëŠ”ê±° í™•ì¸ ğŸ™†â€â™‚ï¸ " , data)



                        // // b) ìš”ì²­í•˜ê¸° [ì˜ˆì „ë²„ì „]
                        // const {data} = await axios.get("http://127.0.0.1:4000/board/list" , {
                        //             withCredentials : true,
                        //             });
                                    
                        //         // ë°ì´í„° ì²¨ë¶€í•˜ëŠ” ë²„ì „
                        //             // const {data} = await axios.get(`http://127.0.0.1:4000/board/list` , {
                        //             //             withCredentials : true,
                        //             //             params : {
                        //             //                 id : postId,     
                        //             //             }});
                                
                // 3) ì˜ ë“¤ì–´ì™”ëŠ”ì§€ í™•ì¸        
                    
                    console.log("@boardList > getView() ë“¤ì–´ì˜¤ëŠ”ê±° í™•ì¸ ğŸ™†â€â™‚ï¸ " , data)
                    
                    // // a) loginí•œ user í™•ì¸  
                    //     // loginUserData = data.loginUser
                    //         console.log("í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ë°ì´í„°" , loginUserData)


                    // // b) post í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°ì´í„° í™•ì¸ 
                    //     // ì œëª©
                            console.log("ì œëª©" , data.result[0].title)       // ì²«ë²ˆì§¸ ê¸€ 
                        
                    //     // ê¸€ì“´ì´ 
                    //         // ì´ ê²Œì‹œê¸€ì˜ user_id ë¥¼ ê°€ì ¸ì˜¨ë‹¤. 
                            console.log("ê¸€ì“´ì´" , data.result[0].user_id)     // dj
                            
                    //     // ì‘ì„±ì¼ì
                            // console.log(data.result[0].createdAt)       // 2023-06-15T05:51:56.000Z
                            console.log("ì‘ì„±ì¼ì" , data.result[0].createdAt.split('T')[0])       // 2023-06-15
                            
                    //     // views 
                            console.log("view" , data.result[0].views)       // 1
                            
                    //     // likes ìˆ«ì 
                            console.log("likes" , data.result[0].likes)       // 16

                    // // c) user í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°ì´í„° 
                    //     // ìœ ì € í”„ë¡œí•„ ì´ë¯¸ì§€ 
                    //         // profile_img ì†ì„±ì—ì„œ ê°€ì ¸ì˜¤ë©´ ë¨
                            console.log("í”„ë¡œí•„ì´ë¯¸ì§€" , data.result[0].User.profile_img)       // http://127.0.0.1:4000/monami.png

                    //     // ìœ ì € ê²½í—˜ì¹˜ 
                            console.log("ìœ ì €ê²½í—˜ì¹˜" , data.result[0].User.exp)        // 0
                            
                    
                    // // d) comment í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°ì´í„° 
                    //     // ëŒ“ê¸€ìˆ˜
                            console.log("ëŒ“ê¸€ìˆ˜" , data.result[0].Comments.length)     // 51        // 0
                
                
            // 3-1) ë³´ë‚´ì¤„ ë°ì´í„° í™•ì¸ âœ…âœ… 
                // 1)) post í…Œì´ë¸”ì— ë³´ë‚¼ ë°ì´í„° 
                    // likes ë²„íŠ¼ í´ë¦­ -> likes ì˜¬ë¼ê°€ê²Œ í•˜ê¸° 
                    
                // 2) í•´ë‹¹ ê²Œì‹œê¸€ ëˆ„ë¥´ë©´ -> views ì˜¬ë¼ê°€ê²Œ í•˜ê¸° 


                // CF. ê³ ë¯¼ 
                    // ì „ì²´ ë°°ì—´í†µ ë§Œë“¤ê¸° == sequelize ì—ì„œ include ë¡œ í•´ì˜¤ê¸° 
                    // | ê·¸ë ¤ì¤˜ì•¼ í•˜ëŠ” ê²ƒ 'ê²Œì‹œê¸€ë‹¹ ëª¨ì•„ì£¼ê¸°' ğŸ‘‰ ì´ê±¸ ì™¸ë˜í‚¤ë¥¼ ì“°ë©´, sequelize ì—ì„œ í•´ì¤Œ â­â­â­
                    
                            // a) ë°ì´í„° í˜•íƒœ 
                                // ex) [ {1ë²ˆê²Œì‹œë¬¼} , {2ë²ˆê²Œì‹œë¬¼}, {3ë²ˆ ê²Œì‹œë¬¼} ]
                            // b) ì´ê³³ì—ì„œ ë­˜ í•  ìˆ˜ ìˆë‚˜? 
                                // ì „ì²´í†µì„ 'ì´ë¦„ìˆœ' ìœ¼ë¡œ ì •ë ¬í•˜ë©´ -> ê²Œì‹œê¸€ ì¡°íšŒ ì´ë¦„ìˆœì´ ëœë‹¤.
                                // ì „ì²´í†µì„ 'expìˆœ' ìœ¼ë¡œ í•˜ë©´ -> ë­í‚¹ìˆœìœ¼ë¡œ ëœë‹¤. 
                                // ì „ì²´í†µì„ 'ì¢‹ì•„ìš”' ìˆœìœ¼ë¡œ í•˜ë©´ -> ì¢‹ì•„ìš” ìˆœìœ¼ë¡œ, ì²˜ìŒë³´ì—¬ì§ˆ ë•Œ, ë³´ì—¬ì§„ë‹¤.
                                // ìš°ì„ , 230616 í˜„ì¬, ê¸°ë³¸ ì •ë ¬ëœê±¸ë¡œ, ê·¸ë ¤ì£¼ê¸° 

                            // c) ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥               
                                // map? fileter? 

                // CF. í˜„ ì‹œì ì—ì„œ í• ì¼ ì •ë¦¬ âœ…âœ…âœ…
                    // USER í…Œì´ë¸”ì˜ ID ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë‚˜ë¡œ ë¬¶ì„ê¹Œ? â­â­â­â­â­â­â­ 
                        // 1) post ë°ì´í„°ë¥¼ POST ID ìˆœì„œë¡œ ì •ë ¬í•´ â­â­â­â­â­ | ì—¬ê¸°ì—ì„œ 'ê²Œì‹œíŒ ì •ë ¬ì´ ë“¤ì–´ê°'
                        // 2) í•´ë‹¹ POST ID ë¥¼ ì ì€ USER ID ë¥¼ ì°¾ì•„ 
                        // 3) ê·¸ USER ID ì™€ ê´€ë ¨ëœ COMMENT í…Œì´ë¸”, USER ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ -> â­í•˜ë‚˜ì˜ ê°ì²´â­ë¡œ ë§Œë“ ë‹¤. â­â­â­â­â­ 
                        // 4) ê·¸ë˜ì„œ 'ì „ì²´ ê²Œì‹œê¸€ ë°°ì—´'= [ {ì²«ë²ˆì§¸ ë³´ì—¬ì£¼ë©´ ë˜ëŠ” ê²Œì‹œê¸€ ê´€ë ¨ ì •ë³´} , {ë‘ ë²ˆì§¸ ë³´ì—¬ì£¼ë©´ ë˜ëŠ” ê²Œì‹œê¸€ ê´€ë ¨ ì •ë³´}, ë“±ë“± ] ìœ¼ë¡œ ë‚˜ì—´í•´
                        // 5) ê·¸ ë‹¤ìŒ, 'ì „ì²´ ê²Œì‹œê¸€ ë°°ì—´'ì„ í˜ì´ì§€ ë³„ë¡œ ì˜ë¼ì„œ, ë‹¤ì‹œ ë°°ì—´ì— ë„£ëŠ”ë‹¤. 
                            // ex) 'í˜ì´ì§€ êµ¬ë¶„ëœ ì „ì²´ ê²Œì‹œê¸€'= [ [ì²«ë²ˆì§¸ í˜ì´ì§€] , [ë‘ ë²ˆì§¸ í˜ì´ì§€] , ...   ]
                        // 6) ê·¸ ë‹¤ìŒ, ì²« ë²ˆì§¸ í˜ì´ì§€ë¥¼ í´ë¦­í•˜ë©´ -> 'í˜ì´ì§€ êµ¬ë¶„ëœ ì „ì²´ ê²Œì‹œê¸€'[0] ì´ ë  ìˆ˜ ìˆê²Œ í•œë‹¤. 


            // 4) 'ë°°ì—´í†µ í™•ì •' | âœ… ì´ ë¶€ë¶„ì—ì„œ 'ì¢‹ì•„ìš” ìˆœ, ì¡°íšŒìˆ˜ ìˆœ, ë“±ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥'
                // ğŸ‘‰ ì´ê±´ ì´ì œ sequelize - include ì—ì„œ í•´ì™”ìŒ â­â­â­â­â­â­â­â­â­â­â­â­â­
                const arrPostWithCommentUser = data.result
                console.log("ë°°ì—´í†µí™•ì¸" , arrPostWithCommentUser)



            // 5) ì£¼ì£¼ë£© ë³´ì´ê²Œ í•˜ê¸° 
                arrPostWithCommentUser.forEach( (element, index) => {
                    

                    // ê²Œì‹œê¸€ container div 
                        const post_container = document.createElement('div');
                        post_container.classList.add("post_container")      
                        post_container.id = `post_container_${element.id}`      // í•´ë‹¹ ê²Œì‹œê¸€ id

                    // ì œëª© container
                        const title_container = document.createElement('div');
                        title_container.id = `title_container_${element.id}`
                        title_container.textContent = element.title
                        post_container.appendChild(title_container)
                        
                    // ëŒ“ê¸€ìˆ˜ container
                        const comment_num_container = document.createElement('div');
                        comment_num_container.id = `comment_num_${element.id}`
                        comment_num_container.textContent = element.Comments.length
                        post_container.appendChild(comment_num_container)
                        
                    // ê¸€ì“´ì´ container
                        const post_writer_container = document.createElement('div');
                        post_writer_container.id = `post_writer_container_${element.id}`
                        post_writer_container.textContent = element.user_id
                        post_container.appendChild(post_writer_container)
                        
                    // ìœ ì € í”„ë¡œí•„ ì´ë¯¸ì§€ container | ğŸ“› ì‚¬ì§„ì´ ì—†ìŒ. 
                        // ì‚¬ì§„ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” div
                        const user_profileImg_container = document.createElement('div');
                        user_profileImg_container.id = `profileImg_container_${element.id}`

                        // div ì•ˆì— img íƒœê·¸ë¡œ ì‚¬ì§„ ë„£ê¸°
                        const profileImg_Img = document.createElement('img');
                        profileImg_Img.src = element.User.profile_img;    
                            
                        // console.log("ì‚¬ì§„ ê²½ë¡œ í™•ì¸ğŸš€", element.User.profile_img)

                        post_container.appendChild(user_profileImg_container)

                    // ì‘ì„±ì¼ì container 
                        const createdAt_container = document.createElement('div');
                        createdAt_container.id = `createdAt_${element.id}`
                        createdAt_container.textContent = element.createdAt.split('T')[0]
                        post_container.appendChild(createdAt_container)
                        
                    // ìœ ì € ê²½í—˜ì¹˜ container 
                        const exp_container = document.createElement('div');
                        exp_container.id = `exp_${element.id}`
                        exp_container.textContent = element.User.exp
                        post_container.appendChild(exp_container)
                        
                    // views container 
                        const views_container = document.createElement('div');
                        views_container.id = `exp_${element.id}`
                        views_container.textContent = element.views
                        post_container.appendChild(views_container)
                        
                    // likes container 
                        const likes_container = document.createElement('div');
                        likes_container.id = `likes_${element.id}`
                        likes_container.textContent = element.likes
                        post_container.appendChild(likes_container)
                        
                    // likes ë²„íŠ¼ container 
                        const likesBtn_container = document.createElement('button');
                        likesBtn_container.id = `likesBtn_${element.id}`
                        likesBtn_container.textContent = "ğŸ‘ì¢‹ì•„ìš”"
                        post_container.appendChild(likesBtn_container)

                    // post ì— ìœ ì €ê°€ ì˜¬ë¦° ì‚¬ì§„ container
                        const post_image_container = document.createElement('div');
                        const post_image = document.createElement('img');
                        post_image.classList.add('post_image');
                        post_image.src = `http://127.0.0.1:5502/Monami/backEnd/image/${element.post_img}`;    

                        // console.log("ì‚¬ì§„ ê²½ë¡œ í™•ì¸ğŸš€", element.User.profile_img)

                        post_image_container.appendChild(post_image)
                        post_container.appendChild(post_image_container)



                    // 'posts_wrapper' ì—,  ê²Œì‹œê¸€ í•˜ë‚˜ë¥¼ ë‹´ì€ post_container ë¥¼ ë¶™ì´ê¸° 
                    posts_wrapper.appendChild(post_container)

                });

                
            // 6) í˜ì´ì§€ë„¤ì´ì…˜ ë³´ì—¬ì¤„ div 
                pageNavigation(10)
                pageShow()

                // console.log("ì„œë²„ì—ì„œ ë°›ì€ ê²°ê³¼ ì°ì–´ë³´ì" , result)



            // 6) ì±„ì›Œì§„ê±¸ -> í˜ì´ì§€ë„¤ì´ì…˜ ë³„ë¡œ ë‚˜ëˆ„ê¸° => ì´ê²ƒë„ sequelize ì—ì„œ 
                // a) 16 ìœ¼ë¡œ ë‚˜ëˆ ì„œ -> ë°°ì—´ì´ ë˜ê²Œ map í•¨ìˆ˜ë¥¼ ì¨ì•¼ í•˜ë‚˜? 
                
                // b) ì•„, ì´ê²ƒë„, sequelize ì—ì„œ ë°”ë¡œ í•  ìˆ˜ ìˆë„¤? â­â­â­â­â­â­ 
                    
                // html ìƒ í˜ì´ì§€ë„¤ì´ì…˜ì´ ë“¤ì–´ê°ˆ ê³µê°„ 
                    // const page_navigation = document.createElement('div');
                    

                    // const temp_aTag = document.createElement('a')
                    // temp_aTag.href = `http://127.0.0.1:4000/board/list/:1`
                    // temp_aTag.textContent = `page 1`

                    // page_navigation.appendChild(temp_aTag)
            
            // 8) ì‚¬ìš©ìê°€ 1ì„ í´ë¦­í•˜ë©´ -> ì²« ë²ˆì§¸ ë°°ì—´ì„ ë Œë”í†µì— ë„£ê¸°
                
                


                    
        } catch (error) {
            console.log(error)
        }
    }



// ğŸ”¹ 1page, 2page ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜ 
    let pageNavigation = (page_num) => {

        for(i=1; i<=page_num; i++) {
            page_navigation.innerHTML += `
                <button class="pageNumBtn" id="page_btn_${i}"> ${i}page </button>
                `    
        }
        
    }



// ğŸ”¹ view ì´ˆê¸°í™” ì‹œí‚¤ëŠ” í•¨ìˆ˜ | ì´ê²Œ ì—†ìœ¼ë©´ ëˆ„ì ë˜ì–´ì„œ ë‚˜ì˜´ 
    initializedView = (arrPostWithCommentUser) => {

        // post ë‚´ìš©ë“¤ ì „ë¶€ ë¹„ìš°ê¸°
            posts_wrapper.innerHTML = ``;

        // page1, page2 .. ë²„íŠ¼ ì „ë¶€ ì§€ìš°ê¸° 
            page_navigation.innerHTML = ``;

        getView(arrPostWithCommentUser)
    }




    
// ğŸ”¹ í˜ì´ì§€ í´ë¦­í•˜ë©´, ë³´ë‚´ëŠ” í•¨ìˆ˜ 

let pageShow = () => {
    const pageNumBtns = document.getElementsByClassName('pageNumBtn');

    Array.from(pageNumBtns).forEach((btn) => {
        btn.onclick = async (event) => {
            console.log("ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€")
            console.log(event.target.id);
            
            const page_num = event.target.id;
        
            await axios.get(`http://127.0.0.1:4000/board/list/page?num=${page_num}`)
            .then((response) => {
                
                // ë‚´ê°€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ 'ë°°ì—´í†µ' ìœ¼ë¡œ ë°›ì•„ì˜¤ê¸°
                console.log(response.data.result);
                console.log("ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´ğŸ›´")

                // 'ë°°ì—´í†µ' ì„ 'ë§¤ê°œë³€ìˆ˜' ë¡œ ê½‚ì•„ì£¼ê¸°
                arrPostWithCommentUser = response.data.result       // ğŸ“› ì „ì—­ë³€ìˆ˜ ì£¼ì˜

                initializedView(arrPostWithCommentUser)
                
            });
        }
    });
}
        // [ê³¼ê±° ì½”ë“œ]
            // let pageShow = () => {

            //     document.getElementsByClassName('pageNumBtn').onclick = async (event) => {
                        
            //             console.log("ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€")
            //             console.log(event.target.id)
            //             const i = event.target.id



            //             // get ìœ¼ë¡œ ë‹¤ì‹œ ì‹œë„ â­â­ 
            //             await axios.get(`http://127.0.0.1:4000/board/list/page?num=${i}`)
            //             .then((e) => {
            //                 res.sendFile(path.join(__dirname , "./boardList.html"))
            //             })





            //             // ê·¸ ë‹¤ìŒ, ìƒì„¸ í˜ì´ì§€ëŠ”,then, ì—ì„œ getAPI ë¥¼ í•¨ ì—¬ê¸°ë„ ê·¸ëŸ¬ë©´ ë ê¹Œ ?â­â­ 


            //             // axios.post(`http://127.0.0.1:4000/board/list/page?num=${i}` , form , {
            //             //     "Content-type" : "json/application"
            //             // }).then((e) => {
            //             //     const redirectURL = e.data.redirectURL; 
            //             //     window.location.href =redirectURL;
            //             // }).catch((err) => {
            //             //     console.log(err)
            //             // })
            //         }
            //         // ì—¬ê¸°ì— postPerPage ì´ê±°ë¥¼ ì–¼ë§ˆë‚˜ í• ì§€ ì—¬ê¸°ì„œ ë„˜ê²¨ì¤˜ì•¼ í•˜ë‚˜? 
            //         // href="http://127.0.0.1:4000/board/list/page?num=${i}"
            // }





// ğŸ”¹ getView ì‹¤í–‰ 

    document.addEventListener('DOMContentLoaded' , async function() {
        
        console.log("getView ì‹¤í–‰ëœê±´ê°€? ğŸ’")

        // ì—¬ê¸°ì—ì„œ getview ê°€ ì•„ë‹ˆë¼, 
            // 1) ì´ˆê¸°í™”ëœê²Œ ì‹¤í–‰ ë˜ì–´ì•¼ í•˜ê³  â­â­â­ 
            // 2) ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ì•¼ í•œë‹¤. â­â­â­ 
            // 3) ìŒ... 
        await getView();

        

    })



</script>





</html>